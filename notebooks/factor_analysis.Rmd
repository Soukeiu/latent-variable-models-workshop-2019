---
title: "Factor Analysis"
output: 
  html_notebook: 
    code_folding: none
    highlight: pygments
    theme: sandstone
    toc: yes
editor_options: 
  chunk_output_type: inline
---

## Initialization

This assumes the prior Rmd files have been run.  See the README file.

```{r misc_functions}
source('misc_functions/functions.R')
```

```{r load_packages, message=FALSE}
library(tidyverse)
library(psych)
```


## Single Factor

First, the data.  For our example we will use only the agreeableness items from the Big Five.

```{r agree}
bfi_agree = bfi %>% 
  select(matches('A[1-5]'))
```


### Inspect correlations

```{r cor_agree}
# note how A1 is negatively scored
cor(bfi_agree, use = 'pair') 
```

### Factor model

Let's run a factor analysis

```{r fa_agree}
fa_agree = fa(bfi_agree)
print(fa_agree, short = F)
```


## Multiple Factors

```{r}
bfi_trim = bfi %>% 
  select(matches('A[1-5]|N[1-5]'))
```

